<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                template="/templates/default.xhtml">
    <ui:define name="content">
        <h:outputScript library="js" name="bmap.js" target="head"/>
        <h:outputScript library="js" name="checkInMap.js" target="head"/>
        <div id="mapPane" style="width: 100%; height: 80%"></div>
        <ui:repeat value="#{checkInMapBean.attendees}" var="attendee">
            <script>checkInMap.addAttendee('#{attendee.id}','#{attendee.location.latitude}','#{attendee.location.longitude}','#{attendee.location.address}','#{attendee.checkInAt}');</script>
        </ui:repeat>
        <script>
            checkInMap.init().showCheckInPoint();
        </script>
    </ui:define>

</ui:composition>
